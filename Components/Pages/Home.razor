@page "/"

<PageTitle>Essay Feedback</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-4">
    <MudText Typo="Typo.h4" Class="mb-4">Essay Feedback</MudText>

    <MudGrid>
        <!-- Left column with textarea -->
        <MudItem xs="12" md="6">
            <MudPaper Elevation="2" Class="pa-4 d-flex flex-column" Style="height: 500px;">
                <MudText Typo="Typo.subtitle1" Class="mb-2">Essay Text</MudText>
                <MudTextField @bind-Value="essayText"
                              Label="Enter essay text"
                              Variant="Variant.Outlined"
                              Lines="20"
                              Multiline="true"
                              Class="flex-grow-1"
                              Immediate="true">
                </MudTextField>
            </MudPaper>
        </MudItem>

        <MudItem xs="12" md="6">
            <MudPaper Elevation="2" Class="pa-4 d-flex flex-column" Style="height: 500px;">
                <MudText Typo="Typo.subtitle1" Class="mb-2">Recommendations</MudText>
                <MudPaper Class="pa-4 flex-grow-1 overflow-auto mud-background-gray" Style="height: 0;">
                    @((MarkupString)RenderedRecommendationMarkdown)
                </MudPaper>
            </MudPaper>
        </MudItem>
    </MudGrid>

    <MudExpansionPanels Class="mt-4">
        <MudExpansionPanel>
            <TitleContent>
                <MudText Typo="Typo.h6">Model Response</MudText>
            </TitleContent>
            <ChildContent>
                <MudCard Elevation="0" Class="mt-2">
                    <MudCardContent>
                        <MudText Label="Model Response"
                                      Variant="Variant.Outlined"
                                      ReadOnly="true"
                                      Lines="10">
                        @((MarkupString)RenderedModelMarkdown)
                        </MudText>
                    </MudCardContent>
                </MudCard>
            </ChildContent>
        </MudExpansionPanel>
    </MudExpansionPanels>
</MudContainer>
